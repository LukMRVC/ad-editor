<aside fxLayout="column" fxLayoutAlign="start" class="drawing-toolbar">

  <div style="padding: .5rem">
    <mat-checkbox [(ngModel)]="konva.shouldTransformRelatives">Modify relatives</mat-checkbox>
  </div>

  <app-logo></app-logo>

  <app-headline></app-headline>

  <app-background></app-background>

  <app-button></app-button>

  <mat-expansion-panel *ngFor="let shapeInfo of dataService.userShapes" class="mat-elevation-z0 radius-none ">
    <mat-expansion-panel-header>
      <mat-panel-title>{{ shapeInfo.userShapeName }}</mat-panel-title>
      <mat-panel-description>
        <mat-icon *ngIf="shapeInfo.isImage">insert_photo</mat-icon>
        <mat-icon *ngIf="shapeInfo.isText">format_size</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>

    <ng-template matExpansionPanelContent>
      <ng-container *ngIf="shapeInfo.isText; else imageContainer">
        <mat-form-field>
          <mat-label>{{ shapeInfo.userShapeName + ' content' }}</mat-label>
          <textarea (input)="dataService.changeValue(dataService.activeDataset, shapeInfo, $event.target.value)"
                    [value]="shapeInfo.shapeConfig.text"
                    matInput [placeholder]="shapeInfo.userShapeName + ' text'" >
          </textarea>
        </mat-form-field>

        <app-text-style [shapeName]="shapeInfo.userShapeName.slugify()"></app-text-style>
      </ng-container>
      <ng-template #imageContainer>
        <app-image-filter (filterChanged)="konva.applyImageFilter(shapeInfo.userShapeName.slugify(), $event)"></app-image-filter>
      </ng-template>
    </ng-template>


  </mat-expansion-panel>

<!--  <app-add-custom></app-add-custom>-->

</aside>
